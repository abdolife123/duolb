---
import {
  resolveSalonCoverImage,
  SALON_COVER_PLACEHOLDER,
} from "../../lib/images"

const {
  coverImage,
  alt,
  class: className = "",
  loading = "lazy",
  decoding = "async",
  fetchpriority,
  width = 1200,
  height = 800,
  ...rest
} = Astro.props

const resolvedCover = resolveSalonCoverImage(coverImage)
---

<img
  src={resolvedCover}
  alt={alt}
  class={className}
  loading={loading}
  decoding={decoding}
  fetchpriority={fetchpriority}
  width={width}
  height={height}
  onerror={`this.onerror=null;this.src='${SALON_COVER_PLACEHOLDER}';`}
  {...rest}
/>
